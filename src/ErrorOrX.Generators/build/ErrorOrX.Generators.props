<Project>
    <PropertyGroup>
        <!-- Enable JSON context generation by default -->
        <ErrorOrGenerateJsonContext Condition="'$(ErrorOrGenerateJsonContext)' == ''">true</ErrorOrGenerateJsonContext>
    </PropertyGroup>

    <ItemGroup>
        <!-- Make MSBuild properties visible to the source generator -->
        <CompilerVisibleProperty Include="ErrorOrGenerateJsonContext"/>
    </ItemGroup>

    <ItemGroup>
        <!-- Ensure ErrorOrX flows to consuming projects (not blocked by PrivateAssets=all) -->
        <PackageReference Update="ErrorOrX" PrivateAssets="none"/>
    </ItemGroup>
</Project>
